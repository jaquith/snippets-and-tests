/* Rule Id: 3404965 */
Bootstrapper._SC = Bootstrapper._SC || {};
Bootstrapper._SC.dataHandler = Bootstrapper._SC.dataHandler || function(a, b) {
  return a && a.length && 0 < a.length && a[0] && a[0][b] ? a[0][b] : Bootstrapper.data.resolve(b)
};
Bootstrapper.AF.push(['join', 's', 'dl', '61496']);
Bootstrapper.AF.push(['join', 's', 'dl', '61336']);
Bootstrapper.AF.push(['join', 's', 'dl', '61336']);
Bootstrapper.AF.push(['join', 's', 'dl', '61498']);
Bootstrapper.AF.push(['join', 's', 'dl', '63965']);
Bootstrapper.AF.push(['join', 's', 'dl', '61337']);
Bootstrapper.AF.push(['join', 's', 'dl', '61337']);
Bootstrapper.AF.push(['join', 's', 'dl', '61486']);
Bootstrapper.AF.push(['join', 's', 'dl', '61364']);
Bootstrapper.AF.push(['join', 's', 'dl', '61339']);
Bootstrapper.AF.push(['join', 's', 'dl', '61339']);
Bootstrapper.AF.push(['join', 's', 'dl', '61365']);
Bootstrapper.AF.push(['join', 's', 'dl', '61365']);
Bootstrapper.AF.push(['join', 's', 'dl', '61489']);
Bootstrapper.AF.push(['join', 's', 'dl', '61355']);
Bootstrapper.AF.push(['join', 's', 'dl', '61554']);
Bootstrapper.AF.push(['join', 's', 'dl', '61354']);
Bootstrapper.AF.push(['join', 's', 'dl', '61391']);
Bootstrapper.AF.push(['join', 's', 'dl', '61391']);
Bootstrapper.AF.push(['join', 's', 'dl', '61548']);
Bootstrapper.AF.push(['join', 's', 'dl', '61548']);
Bootstrapper.AF.push(['join', 's', 'dl', '61544']);
Bootstrapper.AF.push(['join', 's', 'dl', '61351']);
Bootstrapper.AF.push(['join', 's', 'dl', '61540']);
Bootstrapper.AF.push(['join', 's', 'dl', '61352']);
Bootstrapper.AF.push(['join', 's', 'dl', '61346']);
Bootstrapper.AF.push(['join', 's', 'dl', '61353']);
Bootstrapper.AF.push(['join', 's', 'dl', '61592']);
Bootstrapper.AF.push(['join', 's', 'dl', '61595']);
Bootstrapper.AF.push(['join', 's', 'dl', '61544']);
Bootstrapper.AF.push(['join', 's', 'dl', '61580']);
Bootstrapper.AF.push(['join', 's', 'dl', '61580']);
Bootstrapper.AF.push(['join', 's', 'dl', '62147']);
Bootstrapper.AF.push(['join', 's', 'dl', '61484']);
Bootstrapper.AF.push(['join', 's', 'dl', '61540']);
Bootstrapper.AF.push(['join', 's', 'dl', '61546']);
Bootstrapper.AF.push(['join', 's', 'dl', '61546']);
Bootstrapper.AF.push(['join', 's', 'dl', '61339']);
Bootstrapper.AF.push(['join', 's', 'dl', '61339']);
Bootstrapper.AF.push(['join', 's', 'dl', '61520']);
Bootstrapper.AF.push(['join', 's', 'dl', '61520']);
Bootstrapper.AF.push(['join', 's', 'dl', '61478']);
Bootstrapper.AF.push(['join', 's', 'dl', '61329']);
Bootstrapper.AF.push(['join', 's', 'dl', '61329']);
Bootstrapper.AF.push(['join', 's', 'dl', '61330']);
Bootstrapper.AF.push(['join', 's', 'dl', '61330']);
Bootstrapper.AF.push(['join', 's', 'dl', '61558']);
Bootstrapper.AF.push(['join', 's', 'dl', '61477']);
Bootstrapper.AF.push(['join', 's', 'dl', '61527']);
Bootstrapper.AF.push(['join', 's', 'dl', '61342']);
Bootstrapper.AF.push(['join', 's', 'dl', '61491']);
Bootstrapper.AF.push(['join', 's', 'dl', '61501']);
Bootstrapper.AF.push(['join', 's', 'dl', '61553']);
Bootstrapper.AF.push(['join', 's', 'dl', '61536']);
Bootstrapper.AF.push(['join', 's', 'dl', '61474']);
Bootstrapper.AF.push(['join', 's', 'dl', '61474']);
Bootstrapper.AF.push(['join', 's', 'dl', '61512']);
Bootstrapper.AF.push(['join', 's', 'dl', '61512']);
Bootstrapper.AF.push(['join', 's', 'dl', '61555']);
Bootstrapper.AF.push(['join', 's', 'dl', '61504']);
Bootstrapper.AF.push(['join', 's', 'dl', '61556']);
Bootstrapper.AF.push(['join', 's', 'dl', '61535']);
Bootstrapper.AF.push(['join', 's', 'dl', '61557']);
Bootstrapper.AF.push(['join', 's', 'dl', '61533']);
Bootstrapper.AF.push(['join', 's', 'dl', '62156']);
Bootstrapper.AF.push(['join', 's', 'dl', '61509']);
Bootstrapper.AF.push(['join', 's', 'dl', '62215']);
Bootstrapper.AF.push(['join', 's', 'dl', '61378']);
Bootstrapper.AF.push(['join', 's', 'dl', '61531']);
Bootstrapper.AF.push(['join', 's', 'dl', '61538']);
Bootstrapper.AF.push(['join', 's', 'dl', '61549']);
Bootstrapper.AF.push(['join', 's', 'dl', '61522']);
Bootstrapper.AF.push(['join', 's', 'dl', '61521']);
Bootstrapper.AF.push(['join', 's', 'dl', '62146']);
Bootstrapper.AF.push(['join', 's', 'dl', '61317']);
Bootstrapper.AF.push(['join', 's', 'dl', '61379']);
Bootstrapper.AF.push(['join', 's', 'dl', '61497']);
Bootstrapper.AF.push(['join', 's', 'dl', '61497']);
Bootstrapper.AF.push(['join', 's', 'dl', '61465']);
Bootstrapper.AF.push(['join', 's', 'dl', '61465']);
Bootstrapper.AF.push(['join', 's', 'dl', '61505']);
Bootstrapper.AF.push(['join', 's', 'dl', '61505']);
Bootstrapper.AF.push(['join', 's', 'dl', '61537']);
Bootstrapper.AF.push(['join', 's', 'dl', '61537']);
Bootstrapper.AF.push(['join', 's', 'dl', '61380']);
Bootstrapper.AF.push(['join', 's', 'dl', '61380']);
Bootstrapper.AF.push(['join', 's', 'dl', '61580']);
Bootstrapper.AF.push(['join', 's', 'dl', '61539']);
Bootstrapper.AF.push(['join', 's', 'dl', '61539']);
Bootstrapper.AF.push(['join', 's', 'dl', '61356']);
Bootstrapper.AF.push(['join', 's', 'dl', '61356']);
Bootstrapper.AF.push(['join', 's', 'dl', '61500']);
Bootstrapper.AF.push(['join', 's', 'dl', '61503']);
Bootstrapper.AF.push(['join', 's', 'dl', '61494']);
Bootstrapper.AF.push(['join', 's', 'dl', '61552']);
Bootstrapper.AF.push(['join', 's', 'dl', '61498']);
Bootstrapper.AF.push(['join', 's', 'dl', '61496']);
Bootstrapper.AF.push(['join', 's', 'dl', '61524']);
Bootstrapper.AF.push(['join', 's', 'dl', '61508']);
Bootstrapper.AF.push(['join', 's', 'dl', '61532']);
Bootstrapper.AF.push(['join', 's', 'dl', '61320']);
Bootstrapper.AF.push(['join', 's', 'dl', '61368']);
Bootstrapper.AF.push(['join', 's', 'dl', '61369']);
Bootstrapper.AF.push(['join', 's', 'dl', '61471']);
Bootstrapper.AF.push(['join', 's', 'dl', '61484']);
Bootstrapper.AF.push(['join', 's', 'dl', '61486']);
Bootstrapper.AF.push(['join', 's', 'dl', '61489']);
Bootstrapper.AF.push(['join', 's', 'dl', '61491']);
Bootstrapper.AF.push(['join', 's', 'dl', '61553']);
Bootstrapper.AF.push(['join', 's', 'dl', '61554']);
Bootstrapper.AF.push(['join', 's', 'dl', '61555']);
Bootstrapper.AF.push(['join', 's', 'dl', '61556']);
Bootstrapper.AF.push(['join', 's', 'dl', '61557']);
Bootstrapper.AF.push(['join', 's', 'dl', '62532']);
Bootstrapper.AF.push(['join', 's', 'dl', '62858']);
Bootstrapper.AF.push(['join', 's', 'dl', '61560']);
Bootstrapper.AF.push(['join', 's', 'dl', '61564']);
Bootstrapper.AF.push(['join', 's', 'dl', '61559']);
Bootstrapper.AF.push(['join', 's', 'dl', '61494']);
Bootstrapper.AF.push(['join', 's', 'dl', '61471']);
Bootstrapper.AF.push(['join', 's', 'dl', '61552']);
Bootstrapper.AF.push(['join', 's', 'dl', '62860']);
Bootstrapper.AF.push(['join', 's', 'dl', '61560']);
Bootstrapper.AF.push(['join', 's', 'dl', '61564']);
Bootstrapper.AF.push(['join', 's', 'dl', '61559']);
Bootstrapper.AF.push(['join', 's', 'dl', '61482']);
Bootstrapper.AF.push(['join', 's', 'dl', '61487']);
Bootstrapper.AF.push(['join', 's', 'dl', '61485']);
Bootstrapper.AF.push(['join', 's', 'dl', '62892']);
Bootstrapper.AF.push(['join', 's', 'dl', '61578']);
Bootstrapper.AF.push(['join', 's', 'dl', '62968']);
Bootstrapper.AF.push(['join', 's', 'dl', '61517']);
Bootstrapper.AF.push(['join', 's', 'dl', '61519']);
Bootstrapper.AF.push(['join', 's', 'dl', '61500']);
Bootstrapper.AF.push(['join', 's', 'dl', '61500']);
Bootstrapper.AF.push(['join', 's', 'dl', '61468']);
Bootstrapper.AF.push(['join', 's', 'dl', '61323']);
Bootstrapper.AF.push(['join', 's', 'dl', '61323']);
Bootstrapper.AF.push(['join', 's', 'dl', '61382']);
Bootstrapper.AF.push(['join', 's', 'dl', '61492']);
Bootstrapper.AF.push(['join', 's', 'dl', '62969']);
Bootstrapper.AF.push(['join', 's', 'dl', '62979']);
Bootstrapper.AF.push(['join', 's', 'dl', '61493']);
Bootstrapper.AF.push(['join', 's', 'dl', '61495']);
Bootstrapper.AF.push(['join', 's', 'dl', '61333']);
Bootstrapper.AF.push(['join', 's', 'dl', '61347']);
Bootstrapper.AF.push(['join', 's', 'dl', '61543']);
Bootstrapper.AF.push(['join', 's', 'dl', '61529']);
Bootstrapper.AF.push(['join', 's', 'dl', '61527']);
Bootstrapper.AF.push(['join', 's', 'dl', '61528']);
Bootstrapper.AF.push(['join', 's', 'dl', '61502']);
Bootstrapper.AF.push(['join', 's', 'dl', '62857']);
Bootstrapper.AF.push(['join', 's', 'dl', '61510']);
Bootstrapper.AF.push(['join', 's', 'dl', '61313']);
Bootstrapper.AF.push(['join', 's', 'dl', '61472']);
Bootstrapper.AF.push(['join', 's', 'dl', '61470']);
Bootstrapper.AF.push(['join', 's', 'dl', '61375']);
Bootstrapper.AF.push(['join', 's', 'dl', '61466']);
Bootstrapper.AF.push(['join', 's', 'dl', '61467']);
Bootstrapper.AF.push(['join', 's', 'dl', '61516']);
Bootstrapper.AF.push(['join', 's', 'dl', '61343']);
Bootstrapper.AF.push(['join', 's', 'dl', '61499']);
Bootstrapper.AF.push(['join', 's', 'dl', '61475']);
Bootstrapper.AF.push(['join', 's', 'dl', '61525']);
Bootstrapper.AF.push(['join', 's', 'dl', '61526']);
Bootstrapper.AF.push(['join', 's', 'dl', '62857']);
Bootstrapper.AF.push(['join', 's', 'dl', '61513']);
Bootstrapper.AF.push(['join', 's', 'dl', '61315']);
Bootstrapper.AF.push(['join', 's', 'dl', '61249']);
Bootstrapper.AF.push(['join', 's', 'dl', '61250']);
Bootstrapper.AF.push(['join', 's', 'dl', '61561']);
Bootstrapper.AF.push(['join', 's', 'dl', '63096']);
Bootstrapper.AF.push(['join', 's', 'dl', '63165']);
Bootstrapper.AF.push(['join', 's', 'dl', '63694']);
Bootstrapper.AF.push(['join', 's', 'dl', '61523']);
Bootstrapper.AF.push(['join', 's', 'dl', '61570']);
Bootstrapper.AF.push(['join', 's', 'dl', '61514']);
Bootstrapper.AF.push(['join', 's', 'dl', '61507']);
Bootstrapper.AF.push(['join', 's', 'dl', '61569']);
Bootstrapper.AF.push(['join', 's', 'dl', '61534']);
Bootstrapper.AF.push(['join', 's', 'dl', '61522']);
Bootstrapper.AF.push(['join', 's', 'dl', '61558']);
Bootstrapper.AF.push(['join', 's', 'dl', '61479']);
Bootstrapper.AF.push(['join', 's', 'dl', '61334']);
Bootstrapper.AF.push(['join', 's', 'dl', '61573']);
Bootstrapper.AF.push(['join', 's', 'dl', '61577']);
Bootstrapper.AF.push(['join', 's', 'dl', '61488']);
Bootstrapper.AF.push(['join', 's', 'dl', '61574']);
Bootstrapper.AF.push(['join', 's', 'dl', '61575']);
Bootstrapper.AF.push(['join', 's', 'dl', '61515']);
Bootstrapper.AF.push(['join', 's', 'dl', '61490']);
Bootstrapper.AF.push(['join', 's', 'dl', '61550']);
Bootstrapper.AF.push(['join', 's', 'dl', '61506']);
Bootstrapper.AF.push(['join', 's', 'dl', '61518']);
Bootstrapper.AF.push(['join', 's', 'dl', '61542']);
Bootstrapper.AF.push(['join', 's', 'dl', '61568']);
Bootstrapper.AF.push(['join', 's', 'dl', '61530']);
Bootstrapper.AF.push(['join', 's', 'dl', '62528']);
Bootstrapper.AF.push(['push', 'SiteCatalyst', 'ns', 's']);
Bootstrapper.AF.push(['join', 's', 'pre', [
  ['prop11', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61496')
  }],
  ['prop12', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61336')
  }],
  ['eVar12', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61336')
  }],
  ['prop10', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61498')
  }],
  ['eVar141', function() {
    return Bootstrapper._SC.dataHandler(arguments, '63965')
  }],
  ['prop14', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61337')
  }],
  ['eVar14', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61337')
  }],
  ['prop16', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61486')
  }],
  ['eVar16', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61364')
  }],
  ['prop17', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61339')
  }],
  ['eVar17', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61339')
  }],
  ['prop18', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61365')
  }],
  ['eVar18', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61365')
  }],
  ['prop19', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61489')
  }],
  ['eVar19', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61355')
  }],
  ['prop22', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61554')
  }],
  ['eVar22', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61354')
  }],
  ['prop23', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61391')
  }],
  ['eVar23', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61391')
  }],
  ['prop24', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61548')
  }],
  ['eVar24', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61548')
  }],
  ['prop5', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61544')
  }],
  ['eVar51', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61351')
  }],
  ['prop8', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61540')
  }],
  ['eVar52', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61352')
  }],
  ['eVar6', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61346')
  }],
  ['eVar53', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61353')
  }],
  ['eVar207', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61592')
  }],
  ['eVar208', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61595')
  }],
  ['eVar5', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61544')
  }],
  ['prop13', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61580')
  }],
  ['eVar13', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61580')
  }],
  ['purchaseID', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62147')
  }],
  ['prop15', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61484')
  }],
  ['eVar8', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61540')
  }],
  ['prop61', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61546')
  }],
  ['eVar61', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61546')
  }],
  ['prop62', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61339')
  }],
  ['eVar62', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61339')
  }],
  ['prop63', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61520')
  }],
  ['eVar63', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61520')
  }],
  ['eVar64', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61478')
  }],
  ['prop65', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61329')
  }],
  ['eVar65', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61329')
  }],
  ['prop66', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61330')
  }],
  ['eVar66', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61330')
  }],
  ['prop67', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61558')
  }],
  ['eVar67', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61477')
  }],
  ['prop68', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61527')
  }],
  ['eVar68', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61342')
  }],
  ['prop20', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61491')
  }],
  ['eVar20', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61501')
  }],
  ['prop21', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61553')
  }],
  ['eVar21', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61536')
  }],
  ['prop26', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61474')
  }],
  ['eVar26', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61474')
  }],
  ['prop27', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61512')
  }],
  ['eVar27', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61512')
  }],
  ['prop28', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61555')
  }],
  ['eVar28', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61504')
  }],
  ['prop29', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61556')
  }],
  ['eVar29', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61535')
  }],
  ['prop30', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61557')
  }],
  ['eVar30', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61533')
  }],
  ['eVar209', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62156')
  }],
  ['eVar54', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61509')
  }],
  ['eVar210', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62215')
  }],
  ['eVar42', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61378')
  }],
  ['eVar47', function anon() {
    return document.location.protocol;
  }],
  ['eVar57', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61531')
  }],
  ['eVar171', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61538')
  }],
  ['eVar69', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61549')
  }],
  ['prop71', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61522')
  }],
  ['eVar71', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61521')
  }],
  ['products', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62146')
  }],
  ['eVar11', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61317')
  }],
  ['channel', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61379')
  }],
  ['prop4', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61497')
  }],
  ['eVar4', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61497')
  }],
  ['list1', function anon() {
    return window.tui.analytics.page.filters.reduce(function(a, c, i) {
      return i === 0 ? c.filterName + '|' + c.filterCategory + '|' + c.filterValue : a + ',' + c.filterName + '|' + c.filterCategory + '|' + c.filterValue
    }, '')
  }],
  ['prop25', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61465')
  }],
  ['eVar25', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61465')
  }],
  ['prop70', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61505')
  }],
  ['eVar70', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61505')
  }],
  ['campaign', function anon() {

    var aff = s.Util.getQueryParam('ia_id');
    var disp = s.Util.getQueryParam('if_id');
    var ppc = s.Util.getQueryParam('gclid');


    if (typeof aff !== 'undefined' || aff !== null) {
      // variable is undefined or null

      return aff;
    }

    if (typeof disp !== 'undefined' || disp !== null) {
      // variable is undefined or null

      return disp;
    }

    if (typeof ppc !== 'undefined' || ppc !== null) {
      // variable is undefined or null

      return ppc;
    }
  }],
  ['prop72', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61537')
  }],
  ['eVar72', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61537')
  }],
  ['prop1', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61380')
  }],
  ['eVar1', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61380')
  }],
  ['list2', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61580')
  }],
  ['eVar74', function anon() {
    return Date.now();
  }],
  ['prop46', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61539')
  }],
  ['eVar46', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61539')
  }],
  ['prop45', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61356')
  }],
  ['eVar45', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61356')
  }],
  ['eVar154', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61500')
  }],
  ['eVar113', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61503')
  }],
  ['eVar87', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61494')
  }],
  ['eVar88', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61552')
  }],
  ['eVar89', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61498')
  }],
  ['eVar90', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61496')
  }],
  ['eVar91', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61524')
  }],
  ['eVar92', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61508')
  }],
  ['eVar94', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61532')
  }],
  ['eVar95', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61320')
  }],
  ['eVar96', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61368')
  }],
  ['eVar97', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61369')
  }],
  ['eVar98', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61471')
  }],
  ['eVar99', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61484')
  }],
  ['eVar100', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61486')
  }],
  ['eVar101', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61489')
  }],
  ['eVar102', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61491')
  }],
  ['eVar103', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61553')
  }],
  ['eVar104', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61554')
  }],
  ['eVar105', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61555')
  }],
  ['eVar106', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61556')
  }],
  ['eVar107', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61557')
  }],
  ['eVar49', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62532')
  }],
  ['eVar211', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62858')
  }],
  ['eVar110', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61560')
  }],
  ['eVar111', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61564')
  }],
  ['eVar112', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61559')
  }],
  ['prop7', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61494')
  }],
  ['prop36', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61471')
  }],
  ['prop9', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61552')
  }],
  ['eVar43', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62860')
  }],
  ['prop32', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61560')
  }],
  ['prop33', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61564')
  }],
  ['prop34', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61559')
  }],
  ['eVar80', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61482')
  }],
  ['eVar81', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61487')
  }],
  ['eVar82', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61485')
  }],
  ['eVar84', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62892')
  }],
  ['eVar85', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61578')
  }],
  ['eVar122', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62968')
  }],
  ['eVar114', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61517')
  }],
  ['eVar115', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61519')
  }],
  ['eVar116', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61500')
  }],
  ['prop75', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61500')
  }],
  ['eVar117', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61468')
  }],
  ['prop74', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61323')
  }],
  ['eVar118', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61323')
  }],
  ['eVar120', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61382')
  }],
  ['eVar121', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61492')
  }],
  ['eVar123', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62969')
  }],
  ['eVar124', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62979')
  }],
  ['eVar38', function anon() {
    return document.location.host + document.location.pathname;
  }],
  ['eVar125', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61493')
  }],
  ['prop38', function() {
    return window.s.eVar38
  }],
  ['eVar127', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61495')
  }],
  ['eVar41', 'D=User-Agent'],
  ['eVar130', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61333')
  }],
  ['eVar131', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61347')
  }],
  ['eVar161', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61543')
  }],
  ['eVar165', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61529')
  }],
  ['eVar167', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61527')
  }],
  ['eVar166', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61528')
  }],
  ['eVar168', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61502')
  }],
  ['eVar48', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62857')
  }],
  ['eVar173', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61510')
  }],
  ['eVar183', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61313')
  }],
  ['eVar185', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61472')
  }],
  ['eVar186', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61470')
  }],
  ['eVar187', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61375')
  }],
  ['eVar188', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61466')
  }],
  ['eVar189', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61467')
  }],
  ['eVar190', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61516')
  }],
  ['eVar191', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61343')
  }],
  ['eVar192', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61499')
  }],
  ['eVar194', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61475')
  }],
  ['prop40', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61525')
  }],
  ['transactionID', function anon() {
    return s.purchaseID;
  }],
  ['prop41', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61526')
  }],
  ['prop48', function() {
    return Bootstrapper._SC.dataHandler(arguments, '62857')
  }],
  ['eVar204', function anon() {
    if ((document.URL.indexOf('/book/confirmation') !== -1 || document.URL.indexOf('/book/mobile/confirmation') !== -1 || document.URL.indexOf('/book/bookingConfirmation') !== -1) && window.tui.analytics.page.Tracsref && typeof window.tui.analytics.page.Tracsref === "string" && window.tui.analytics.page.Tracsref.length > 5 && s.purchaseID !== "" && typeof s.purchaseID != 'undefined') {
      return "+" + tui.analytics.page.Sum;
    }
  }],
  ['eVar33', function() {
    return window.s.channel
  }],
  ['eVar180', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61513')
  }],
  ['eVar206', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61315')
  }],
  ['eVar200', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61249')
  }],
  ['eVar202', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61250')
  }],
  ['eVar135', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61561')
  }],
  ['eVar181', function() {
    return Bootstrapper._SC.dataHandler(arguments, '63096')
  }],
  ['eVar214', function() {
    return Bootstrapper._SC.dataHandler(arguments, '63165')
  }],
  ['eVar156', function() {
    return Bootstrapper._SC.dataHandler(arguments, '63694')
  }],
  ['eVar119', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61523')
  }],
  ['eVar128', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61570')
  }],
  ['eVar155', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61514')
  }],
  ['eVar157', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61507')
  }],
  ['eVar158', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61569')
  }],
  ['eVar162', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61534')
  }],
  ['eVar163', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61522')
  }],
  ['eVar164', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61558')
  }],
  ['eVar170', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61479')
  }],
  ['eVar172', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61334')
  }],
  ['eVar174', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61573')
  }],
  ['eVar175', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61577')
  }],
  ['eVar176', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61488')
  }],
  ['eVar177', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61574')
  }],
  ['eVar178', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61575')
  }],
  ['eVar184', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61515')
  }],
  ['eVar195', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61490')
  }],
  ['prop39', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61550')
  }],
  ['eVar196', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61506')
  }],
  ['eVar197', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61518')
  }],
  ['eVar198', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61542')
  }],
  ['eVar199', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61568')
  }],
  ['eVar132', function() {
    return Bootstrapper._SC.dataHandler(arguments, '61530')
  }]
]]);
Bootstrapper.AF.push(['join', 's', 'post', [
  ['events', function anon() {
    var bookingReference = (window.tui && tui.analytics && tui.analytics.page && tui.analytics.page.Tracsref ? tui.analytics.page.Tracsref : window.dataLayer && dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.total && dataLayer[0].transactions.total.transactionId ? dataLayer[0].transactions.total.transactionId : ""),
      totalPrice = (window.tui && tui.analytics && tui.analytics.page && tui.analytics.page.Sum ? parseFloat(tui.analytics.page.Sum) : window.dataLayer && dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.total && dataLayer[0].transactions.total.totalPrice ? parseFloat(dataLayer[0].transactions.total.totalPrice) : 0),
      creditNoteDiscountValue = (window.tui && tui.analytics && tui.analytics.page && tui.analytics.page.bookingLevelCreditNoteDiscount && tui.analytics.page.bookingLevelCreditNoteDiscount != 'null' ? parseFloat(tui.analytics.page.bookingLevelCreditNoteDiscount) : window.dataLayer && dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.total && dataLayer[0].transactions.total.bookingLevelCreditNoteDiscount ? parseFloat(dataLayer[0].transactions.total.bookingLevelCreditNoteDiscount) : 0),
      creditNoteRefundValue = (window.tui && tui.analytics && tui.analytics.page && tui.analytics.page.creditNoteRefundValue && tui.analytics.page.creditNoteRefundValue != 'null' ? parseFloat(tui.analytics.page.creditNoteRefundValue) : window.dataLayer && dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.total && dataLayer[0].transactions.total.creditNoteRefundValue ? parseFloat(dataLayer[0].transactions.total.creditNoteRefundValue) : 0),
      onlineDiscount = (window.tui && tui.analytics && tui.analytics.page && tui.analytics.page && tui.analytics.page.Disc && tui.analytics.page.Disc != 'null' ? parseFloat(tui.analytics.page.Disc) : window.dataLayer && dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.total && dataLayer[0].transactions.total.discount ? parseFloat(dataLayer[0].transactions.total.discount) : 0),
      bookingPax = (window.tui && tui.analytics && tui.analytics.page && tui.analytics.page && tui.analytics.page.Pax && tui.analytics.page.Pax != 'null' ? parseInt(tui.analytics.page.Pax) : window.dataLayer && dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.items && dataLayer[0].transactions.items.quantity && dataLayer[0].transactions.items.quantity.pax ? parseInt(dataLayer[0].transactions.items.quantity.pax) : 0),
      incentivePromoValue = incentivePromoDiscount();

    function incentivePromoDiscount() {

      if (window.dataLayer && dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.total && dataLayer[0].transactions.total.bookingLevelPromoCodes && dataLayer[0].transactions.total.bookingLevelPromoCodes.length > 0) {
        var rgx = new RegExp('/CVRHC|CVRW20|CVRS21|CVRI|CVRM|CVRV/i', 'i');
        var promoCodeArray = dataLayer[0].transactions.total.bookingLevelPromoCodes;
        var result = 0;
        for (i = 0; i < promoCodeArray.length; i++) {
          if (rgx.test(promoCodeArray[i].bookingLevelPromoCode)) {
            result = promoCodeArray[i].bookingLevelPromoDiscount;
          }
        }
        return result;
      } else if (window.tui && tui.analytics && tui.analytics.page && tui.analytics.page.IncentivePromoValue && tui.analytics.page.IncentivePromoValue != 'null') {
        return parseFloat(tui.analytics.page.IncentivePromoValue);
      } else {
        return 0;
      }
    }

    //Normal Bookflow & LYP with same confirmation url
    if ((document.URL.indexOf('/book/confirmation') !== -1 || document.URL.indexOf('/book/mobile/confirmation') !== -1 || document.URL.indexOf('/book/bookingConfirmation') !== -1) && bookingReference && typeof bookingReference === "string" && bookingReference.length > 5) {
      if ((window.dataLayer && dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.total && dataLayer[0].transactions.total.isLockYourPrice == "Yes") || (window.dataLayer && dataLayer[0] && dataLayer[0].page && dataLayer[0].page.pageID == "lockYourPriceConfirmationpage_react")) {
        s.events = "event78:" + bookingReference + "LYP" // event serialisation with event78 (LYP Unconfirmed Booking)
          + ",event80=" + window.dataLayer[0].transactions.total.lockYourPriceValue + ":" + bookingReference + "LYP" + ",event81=" + totalPrice + ":" + bookingReference + "LYP";
      } else {
        s.events = "purchase" + ",event4=" + (creditNoteDiscountValue > 0 ? totalPrice + creditNoteDiscountValue : totalPrice) + ",event5=" + onlineDiscount + ",event9=" + bookingPax + ",event150,event151,event152,event153,event154,event158,event159" //added 158&159 for PC Incentive 
          + ",event155=" + creditNoteDiscountValue // Added for credit note launch
          + ",event156=" + creditNoteRefundValue // Added for credit note launch
          + ",event157=" + (creditNoteDiscountValue > 0 ? totalPrice : 0) // Addded for credit note launch
          + ",event160=" + (creditNoteDiscountValue > 0 ? totalPrice + creditNoteDiscountValue + incentivePromoValue : totalPrice); // multiple promocode - maintaining redemption code reporting
      }
    }

    //LYP mmb Bookflow (managemybooking/paymentconfirmation is the MMB confirmation page)
    else if ((document.URL.indexOf('/managemybooking/paymentconfirmation') !== -1) && window.dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.total && bookingReference && typeof bookingReference === "string" && bookingReference.length > 5 && dataLayer[0].transactions.total.isLockYourPrice == "Yes") {
      s.events = "purchase" + ",event4=" + (creditNoteDiscountValue > 0 ? totalPrice + creditNoteDiscountValue : totalPrice) + ",event5=" + onlineDiscount + ",event9=" + bookingPax + ",event79" // Lock Your Price confirmed booking
        + ",event80=" + (window.dataLayer[0].transactions.total.lockYourPriceValue * -1) + ",event150,event151,event152,event153,event154,event158,event159"; //added 158&159 for PC Incentive
    }

    //MMB Unpaid
    else if (document.URL.indexOf('your-account/managemybooking/amendmentsuccess') !== -1 && typeof window.tui.analytics.events != 'undefined' && window.tui.analytics.events !== null) {
      for (var i = 0; i < window.tui.analytics.events.length; i++) {
        if (window.tui.analytics.events[i].eventAction == 'MMB Unpaid') {
          s.events = "event301:" + window.tui.analytics.events[i].eventSerialisationNumber;
          /*		
                   if(window.tui && tui.analytics && tui.analytics.page && tui.analytics.page.bookingLevelPromoCode && tui.analytics.page.bookingLevelPromoDiscount){
                        if(tui.analytics.page.bookingLevelPromoCode == 'CVRM'|| tui.analytics.page.bookingLevelPromoCode == 'CVRHC'){
                         s.events = s.apl(s.events,'event154=' + tui.analytics.page.bookingLevelPromoDiscount ,',',1);
                        }
                    }*/

          // Start
          var dl = window.dataLayer
          if (dl && dl[0] && dl[0].transactions && dl[0].transactions.total) {
            // If old object is shown - can be removed at a later date
            if (dl[0].transactions.total.bookingLevelPromoDiscount && typeof dl[0].transactions.total.bookingLevelPromoDiscount !== 'undefined') {
              // Check for PC & MMB/Booking Incentive
              if (/CVRHC|CVRW20|CVRS21|CVRI|CVRM|CVRV/i.test(dl[0].transactions.total.bookingLevelPromoCode)) {
                // Programme Change Incentive
                if (/CVRHC|CVRW20|CVRS21/i.test(dl[0].transactions.total.bookingLevelPromoCode)) {
                  s.events = s.apl(s.events, 'event158=' + Math.abs(dl[0].transactions.total.bookingLevelPromoDiscount), ',', 1);
                }
                // MMB/Booking Incentive
                if (/CVRI|CVRM|CVRV/i.test(dl[0].transactions.total.bookingLevelPromoCode)) {
                  s.events = s.apl(s.events, 'event159=' + Math.abs(dl[0].transactions.total.bookingLevelPromoDiscount), ',', 1);
                }
              } else {
                s.events = s.apl(s.events, 'event154=' + Math.abs(dl[0].transactions.total.bookingLevelPromoDiscount), ',', 1);
              }
              // Added to handle new promo code array
            } else if (dl[0].transactions.total.bookingLevelPromoCodes && dl[0].transactions.total.bookingLevelPromoCodes.length > 0) {
              var promoCodeArray = dl[0].transactions.total.bookingLevelPromoCodes;
              for (i = 0; i < promoCodeArray.length; i++) {

                if (/CVRHC|CVRW20|CVRS21|CVRI|CVRM|CVRV/i.test(promoCodeArray[i].bookingLevelPromoCode)) {
                  // Programme Change Incentive
                  if (/CVRHC|CVRW20|CVRS21/i.test(promoCodeArray[i].bookingLevelPromoCode)) {
                    s.events = s.apl(s.events, 'event158=' + Math.abs(promoCodeArray[i].bookingLevelPromoDiscount), ',', 1);
                  }
                  // MMB/Booking Incentive
                  if (/CVRI|CVRM|CVRV/i.test(promoCodeArray[i].bookingLevelPromoCode)) {
                    s.events = s.apl(s.events, 'event159=' + Math.abs(promoCodeArray[i].bookingLevelPromoDiscount), ',', 1);
                  }
                } else {
                  s.events = s.apl(s.events, 'event154=' + Math.abs(promoCodeArray[i].bookingLevelPromoDiscount), ',', 1);
                }
              }
            }
            // For legacy data layer (only single promo code & value)	
          } else if (window.tui && tui.analytics && tui.analytics.page) {
            if (typeof tui.analytics.page.PromoValue !== 'undefined' && tui.analytics.page.PromoValue !== 'null') {
              if (/CVRHC|CVRW20|CVRS21/i.test(tui.analytics.page.PromoCode)) {
                s.events = s.apl(s.events, 'event158' + parseFloat(tui.analytics.page.PromoValue), ',', 1);
              } else if (/CVRI|CVRM|CVRV/i.test(tui.analytics.page.PromoCode)) {
                s.events = s.apl(s.events, 'event159' + parseFloat(tui.analytics.page.PromoValue), ',', 1);
              } else {
                s.events = s.apl(s.events, 'event154' + parseFloat(tui.analytics.page.PromoValue), ',', 1);
              }
            }
          } //End	                    
        }
      }
    }

    //MMB Paid
    else if (document.URL.indexOf('your-account/managemybooking/managepaymentconfirmation') !== -1 && typeof window.tui.analytics.events != 'undefined' && window.tui.analytics.events !== null) {
      for (var i = 0; i < window.tui.analytics.events.length; i++) {
        if (window.tui.analytics.events[i].eventAction == 'MMB Paid') {
          s.events = "event302:" + window.tui.analytics.events[i].eventSerialisationNumber;
          /*
                    if(window.tui && tui.analytics && tui.analytics.page && tui.analytics.page.bookingLevelPromoCode && tui.analytics.page.bookingLevelPromoDiscount){
                        if(tui.analytics.page.bookingLevelPromoCode == 'CVRM'|| tui.analytics.page.bookingLevelPromoCode == 'CVRHC'){
                         s.events = s.apl(s.events,'event154=' + tui.analytics.page.bookingLevelPromoDiscount ,',',1);
                        }
                    }*/

          // Start
          var dl = window.dataLayer
          if (dl && dl[0] && dl[0].transactions && dl[0].transactions.total) {
            // If old object is shown - can be removed at a later date
            if (dl[0].transactions.total.bookingLevelPromoDiscount && typeof dl[0].transactions.total.bookingLevelPromoDiscount !== 'undefined') {
              // Check for PC & MMB/Booking Incentive
              if (/CVRHC|CVRW20|CVRS21|CVRI|CVRM|CVRV/i.test(dl[0].transactions.total.bookingLevelPromoCode)) {
                // Programme Change Incentive
                if (/CVRHC|CVRW20|CVRS21/i.test(dl[0].transactions.total.bookingLevelPromoCode)) {
                  s.events = s.apl(s.events, 'event158=' + Math.abs(dl[0].transactions.total.bookingLevelPromoDiscount), ',', 1);
                }
                // MMB/Booking Incentive
                if (/CVRI|CVRM|CVRV/i.test(dl[0].transactions.total.bookingLevelPromoCode)) {
                  s.events = s.apl(s.events, 'event159=' + Math.abs(dl[0].transactions.total.bookingLevelPromoDiscount), ',', 1);
                }
              } else {
                s.events = s.apl(s.events, 'event154=' + Math.abs(dl[0].transactions.total.bookingLevelPromoDiscount), ',', 1);
              }
              // Added to handle new promo code array
            } else if (dl[0].transactions.total.bookingLevelPromoCodes && dl[0].transactions.total.bookingLevelPromoCodes.length > 0) {
              var promoCodeArray = dl[0].transactions.total.bookingLevelPromoCodes
              for (i = 0; i < promoCodeArray.length; i++) {

                if (/CVRHC|CVRW20|CVRS21|CVRI|CVRM|CVRV/i.test(promoCodeArray[i].bookingLevelPromoCode)) {
                  // Programme Change Incentive
                  if (/CVRHC|CVRW20|CVRS21/i.test(promoCodeArray[i].bookingLevelPromoCode)) {
                    s.events = s.apl(s.events, 'event158=' + Math.abs(promoCodeArray[i].bookingLevelPromoDiscount), ',', 1);
                  }
                  // MMB/Booking Incentive
                  if (/CVRI|CVRM|CVRV/i.test(promoCodeArray[i].bookingLevelPromoCode)) {
                    s.events = s.apl(s.events, 'event159=' + Math.abs(promoCodeArray[i].bookingLevelPromoDiscount), ',', 1);
                  }
                } else {
                  s.events = s.apl(s.events, 'event154=' + Math.abs(promoCodeArray[i].bookingLevelPromoDiscount), ',', 1);
                }
              }
            }
            // For legacy data layer (only single promo code & value)	
          } else if (window.tui && tui.analytics && tui.analytics.page) {
            if (typeof tui.analytics.page.PromoValue !== 'undefined' && tui.analytics.page.PromoValue !== 'null') {
              if (/CVRHC|CVRW20|CVRS21/i.test(tui.analytics.page.PromoCode)) {
                s.events = s.apl(s.events, 'event158' + parseFloat(tui.analytics.page.PromoValue), ',', 1);
              } else if (/CVRI|CVRM|CVRV/i.test(tui.analytics.page.PromoCode)) {
                s.events = s.apl(s.events, 'event159' + parseFloat(tui.analytics.page.PromoValue), ',', 1);
              } else {
                s.events = s.apl(s.events, 'event154' + parseFloat(tui.analytics.page.PromoValue), ',', 1);
              }
            }
          } //End	                    
        }
      }
    }

    //MMB Cancel
    else if (document.URL.indexOf('your-account/managemybooking/cancelbooking') !== -1 && typeof window.tui.analytics.events != 'undefined' && window.tui.analytics.events !== null) {
      for (var i = 0; i < window.tui.analytics.events.length; i++) {
        if (window.tui.analytics.events[i].eventAction == 'MMB Cancel') {
          s.events = "event303:" + window.tui.analytics.events[i].eventSerialisationNumber;
        }
      }
    }

    //Price Variation Alert
    else if (document.URL.indexOf('/book/flow/summary') !== -1 || document.URL.indexOf('/book/passengerdetails') !== -1 || document.URL.indexOf('/cps/pageRender') !== -1) {
      var priceStatus = document.querySelectorAll('.PriceVariationAlert__infoTextHeading');
      var price = document.querySelectorAll('.alertprice');
      if (priceStatus.length > 0 && priceStatus[0].innerText.includes("INCREASED")) {
        s.events = "event47,event48=" + price[0].innerText.replace(/[£€]/g, '');
      } else if (priceStatus.length > 0 && priceStatus[0].innerText.includes("DECREASED")) {
        s.events = "event47,event48=" + -price[0].innerText.replace(/[£€]/g, '');
      }
    }

    // Credit Note Booking
    if ((document.URL.indexOf('/book/confirmation') !== -1 || document.URL.indexOf('/book/mobile/confirmation') !== -1 || document.URL.indexOf('/book/bookingConfirmation') !== -1) && bookingReference && typeof bookingReference === "string" && bookingReference.length > 5) {
      var creditNoteBooking = Bootstrapper._SC.dataHandler(arguments, "62528");
      if (creditNoteBooking.toLowerCase() == "yes") {
        s.events = s.apl(s.events, 'event70', ',', 1);
      }
    }


    // Performance Timing Replacement

    var pt = (Bootstrapper.PTE && Bootstrapper.PTE.performanceTimings && Bootstrapper.PTE.performanceTimings.get ? Bootstrapper.PTE.performanceTimings.get() : '');

    if (pt) {
      pt = pt.split('|');
      s.events = s.apl(s.events, 'event980=' + pt[0], ',', 1);
      s.events = s.apl(s.events, 'event981=' + pt[1], ',', 1);
      s.events = s.apl(s.events, 'event982=' + pt[2], ',', 1);
      s.events = s.apl(s.events, 'event983=' + pt[3], ',', 1);
      s.events = s.apl(s.events, 'event984=' + pt[4], ',', 1);
      s.events = s.apl(s.events, 'event985=' + pt[5], ',', 1);
      s.events = s.apl(s.events, 'event986=' + pt[6], ',', 1);
      s.events = s.apl(s.events, 'event987=' + pt[7], ',', 1);
      s.events = s.apl(s.events, 'event988=' + pt[8], ',', 1);

      if (pt[9] > 0) {
        s.events = s.apl(s.events, 'event989=' + pt[9], ',', 1);
      }
      if (pt[10] > 0) {
        s.events = s.apl(s.events, 'event990=' + pt[10], ',', 1);
      }
      s.events = s.apl(s.events, 'event1000', ',', 1);
    }

    // Bookflow Events
    // Search
    if (document.URL.indexOf('/destinations/packages') != -1 || document.URL.indexOf('/flight/search') != -1 || document.URL.indexOf('/cruise/packages') != -1 || document.URL.indexOf('/holiday/packages') != -1 || document.URL.indexOf('/f/packages') != -1 || document.URL.indexOf('/river-cruises/packages') != -1 || document.URL.indexOf('/retail/packages') != -1) {
      s.events = s.apl(s.events, "event1", ",", 1);
    }

    // Product View & Custom Product View
    if (document.URL.indexOf('/bookaccommodation') != -1 || document.URL.indexOf('/flight/book/flightoptions') != -1 || document.URL.indexOf('/flight/book/mobile/flightoptions') != -1 || document.URL.indexOf('/cruise/bookitineraries') != -1) {
      s.events = s.apl(s.events, "event11,prodView", ",", 1);
    }

    // Beach Bookflow Events
    if (document.URL.indexOf('bookaccommodation') != -1) {
      s.events = s.apl(s.events, "event15", ",", 1);
    } else if (document.URL.indexOf('/book/mobile/hubsummary') != -1) {
      s.events = s.apl(s.events, "event16", ",", 1);
    } else if (document.URL.indexOf('/destinations/book/flightoptions') != -1 || document.URL.indexOf('/destinations/book/mobile/flightoptions') != -1 || document.URL.indexOf('/destinations/book/flow/flightoptions') != -1 || document.URL.indexOf('/holiday/book/flightoptions') != -1 || document.URL.indexOf('/holiday/book/mobile/flightoptions') != -1 || document.URL.indexOf('/holiday/book/flow/flightoptions') != -1 || document.URL.indexOf('/f/book/flightoptions') != -1 || document.URL.indexOf('/f/book/flow/flightoptions') != -1 || document.URL.indexOf('/f/book/mobile/flightoptions') != -1 || document.URL.indexOf('/retail/book/flow/flightoptions') != -1) {
      s.events = s.apl(s.events, "event17,scView,scOpen,scAdd", ",", 1);
    } else if (document.URL.indexOf('/destinations/book/roomoptions') != -1 || document.URL.indexOf('/destinations/book/mobile/roomoptions') != -1 || document.URL.indexOf('/destinations/book/flow/roomoptions') != -1 || document.URL.indexOf('/holiday/book/roomoptions') != -1 || document.URL.indexOf('/holiday/book/mobile/roomoptions') != -1 || document.URL.indexOf('/holiday/book/flow/roomoptions') != -1 || document.URL.indexOf('/f/book/roomoptions') != -1 || document.URL.indexOf('/f/book/flow/roomoptions') != -1 || document.URL.indexOf('/f/book/mobile/roomoptions') != -1 || document.URL.indexOf('/retail/book/flow/roomoptions') != -1) {
      s.events = s.apl(s.events, "event18", ",", 1);
    } else if (document.URL.indexOf('/destinations/book/extraoptions') != -1 || document.URL.indexOf('/destinations/book/mobile/extraoptions') != -1 || document.URL.indexOf('/destinations/book/flow/extraoptions') != -1 || document.URL.indexOf('/holiday/book/extraoptions') != -1 || document.URL.indexOf('/holiday/book/mobile/extraoptions') != -1 || document.URL.indexOf('/holiday/book/flow/extraoptions') != -1 || document.URL.indexOf('/f/book/extraoptions') != -1 || document.URL.indexOf('/f/book/flow/extraoptions') != -1 || document.URL.indexOf('/f/book/mobile/extraoptions') != -1 || document.URL.indexOf('/retail/book/flow/extraoptions') != -1) {
      s.events = s.apl(s.events, "event19", ",", 1);
    } else if (document.URL.indexOf('/destinations/book/passengerdetails') != -1 || document.URL.indexOf('/destinations/book/mobile/passengerdetails') != -1 || document.URL.indexOf('/holiday/book/passengerdetails') != -1 || document.URL.indexOf('/holiday/book/mobile/passengerdetails') != -1 || document.URL.indexOf('/f/book/passengerdetails') != -1 || document.URL.indexOf('/f/book/mobile/passengerdetails') != -1 || document.URL.indexOf('/retail/book/passengerdetails') != -1) {
      s.events = s.apl(s.events, "event20,scCheckout", ",", 1);
    } else if (document.URL.indexOf('/cps/pageRender') != -1 && (s.Util.getQueryParam('b').indexOf('25000') != -1 || s.Util.getQueryParam('b').indexOf('32000') != -1 || s.Util.getQueryParam('b').indexOf('50000') != -1 || s.Util.getQueryParam('b').indexOf('19000') != -1 || s.Util.getQueryParam('b').indexOf('41000') != -1 || s.Util.getQueryParam('b').indexOf('31000') != -1 || s.Util.getQueryParam('b').indexOf('10000') != -1 || s.Util.getQueryParam('b').indexOf('20000') != -1 || s.Util.getQueryParam('b').indexOf('42000') != -1 || s.Util.getQueryParam('b').indexOf('51000') != -1 || s.Util.getQueryParam('b').indexOf('52000') != -1 || s.Util.getQueryParam('b').indexOf('53000') != -1 || s.Util.getQueryParam('b').indexOf('38000') != -1)) {
      s.events = s.apl(s.events, "event21", ",", 1);
    } else if (document.URL.indexOf('/destinations/book/confirmation') != -1 || document.URL.indexOf('/destinations/book/mobile/confirmation') != -1 || document.URL.indexOf('/holiday/book/confirmation') != -1 || document.URL.indexOf('/holiday/book/mobile/confirmation') != -1 || document.URL.indexOf('/f/book/confirmation') != -1 || document.URL.indexOf('/f/book/mobile/confirmation') != -1 || document.URL.indexOf('/managemybooking/paymentconfirmation') != -1 || document.URL.indexOf('/retail/book/bookingConfirmation') != -1 || document.URL.indexOf('/retail/f/book/bookingConfirmation') != -1) {
      if (window.tui.analytics.page.pageUid != 'lockYourPriceConfirmationpage_react' || dataLayer[0].page.pageID != 'lockYourPriceConfirmationpage_react') {
        s.events = s.apl(s.events, "event22", ",", 1);
      }
    }

    // Cruise Bookflow Events		
    else if (document.URL.indexOf('/cruise/bookitineraries') != -1) {
      s.events = s.apl(s.events, "event23", ",", 1);
    } else if (document.URL.indexOf('/cruise/packages/hotels') != -1) {
      s.events = s.apl(s.events, "event24", ",", 1);
    } else if (document.URL.indexOf('/cruise/bookHotelDetails') != -1) {
      s.events = s.apl(s.events, "event25", ",", 1);
    } else if (document.URL.indexOf('/cruise/book/cruiseoptions') != -1 || document.URL.indexOf('/cruise/book/flow/cruiseoptions') != -1) {
      s.events = s.apl(s.events, "event26,scView,scOpen,scAdd", ",", 1);
    } else if (document.URL.indexOf('/cruise/book/flightoptions') != -1 || document.URL.indexOf('/cruise/book/flow/flightoptions') != -1) {
      s.events = s.apl(s.events, "event27", ",", 1);
    } else if (document.URL.indexOf('/cruise/book/roomoptions') != -1 || document.URL.indexOf('/cruise/book/flow/roomoptions') != -1) {
      s.events = s.apl(s.events, "event28", ",", 1);
    } else if (document.URL.indexOf('/cruise/book/extraoptions') != -1 || document.URL.indexOf('/cruise/book/flow/extraoptions') != -1) {
      s.events = s.apl(s.events, "event29", ",", 1);
    } else if (document.URL.indexOf('/cruise/book/passengerdetails') != -1) {
      s.events = s.apl(s.events, "event30,scCheckout", ",", 1);
    } else if (document.URL.indexOf('/cps/pageRender') != -1 && (s.Util.getQueryParam('b').indexOf('37000') != -1 || s.Util.getQueryParam('b').indexOf('54000') != -1 || s.Util.getQueryParam('b').indexOf('49000') != -1)) {
      s.events = s.apl(s.events, "event31", ",", 1);
    } else if (document.URL.indexOf('/cruise/book/confirmation') != -1 || document.URL.indexOf('/retail/cruise/book/bookingConfirmation') != -1 || document.URL.indexOf('/retail/f/cruise/book/bookingConfirmation') != -1) {
      s.events = s.apl(s.events, "event32", ",", 1);
    }

    // Flight Only Bookflow Events		
    else if (document.URL.indexOf('/flight/book/flightoptions') != -1 || document.URL.indexOf('/flight/book/mobile/flightoptions') != -1) {
      s.events = s.apl(s.events, "event33,scView,scOpen,scAdd", ",", 1);
    } else if (document.URL.indexOf('/flight/book/extraoptions') != -1 || document.URL.indexOf('/flight/book/mobile/extraoptions') != -1) {
      s.events = s.apl(s.events, "event34", ",", 1);
    } else if (document.URL.indexOf('/flight/book/passengerdetails') != -1 || document.URL.indexOf('/flight/book/mobile/passengerdetails') != -1) {
      s.events = s.apl(s.events, "event35,scCheckout", ",", 1);
    } else if (document.URL.indexOf('/cps/pageRender') != -1 && (s.Util.getQueryParam('b').indexOf('39000') != -1 || s.Util.getQueryParam('b').indexOf('47000') != -1 || s.Util.getQueryParam('b').indexOf('40000') != -1 || s.Util.getQueryParam('b').indexOf('48000') != -1 || s.Util.getQueryParam('b').indexOf('59000') != -1 || s.Util.getQueryParam('b').indexOf('60000') != -1)) {
      s.events = s.apl(s.events, "event36", ",", 1);
    } else if (document.URL.indexOf('/flight/book/confirmation') != -1 || document.URL.indexOf('/flight/book/mobile/confirmation') != -1 || document.URL.indexOf('/retail/flight/book/bookingConfirmation') != -1 || document.URL.indexOf('/retail/f/flight/book/bookingConfirmation') != -1) {
      s.events = s.apl(s.events, "event37", ",", 1);
    }

    // This is for event 8 (Pax)

    if (window.tui && tui.analytics && tui.analytics.page && tui.analytics.page.Pax) {
      s.events = s.apl(s.events, "event8=" + tui.analytics.page.Pax, ",", 1);
      console.log("Step 3");
    } else if (window.dataLayer && dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.total && dataLayer[0].transactions.total.paxDetails && dataLayer[0].transactions.total.paxDetails.total) {
      s.events = s.apl(s.events, "event8=" + dataLayer[0].transactions.total.paxDetails.total, ",", 1);
      console.log("Step 4");
    } else if (window.dataLayer && dataLayer[0] && dataLayer[0].basket && dataLayer[0].basket.price && dataLayer[0].basket.price.paxDetails && dataLayer[0].basket.price.paxDetails.total) {
      s.events = s.apl(s.events, "event8=" + dataLayer[0].basket.price.paxDetails.total, ",", 1);
    } else if (window.dataLayer && dataLayer[0] && dataLayer[0].product && dataLayer[0].product.noOfPax) {
      s.events = s.apl(s.events, "event8=" + dataLayer[0].product.noOfPax, ",", 1);
    } else if (window.dataLayer && dataLayer[0] && dataLayer[0].page && dataLayer[0].page.search && dataLayer[0].page.search.noOfPax) {
      s.events = s.apl(s.events, "event8=" + dataLayer[0].page.search.noOfPax, ",", 1);
    }

    // This is for event 10 (Discount)

    if (window.tui && tui.analytics && tui.analytics.page && tui.analytics.page.Disc) {
      s.events = s.apl(s.events, "event10=" + tui.analytics.page.Disc, ",", 1);
    } else if (window.dataLayer && dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.total && dataLayer[0].transactions.total.discount) {
      s.events = s.apl(s.events, "event10=" + Math.round(dataLayer[0].transactions.total.discount).toString(), ",", 1);
    } else if (window.dataLayer && dataLayer[0] && dataLayer[0].basket && dataLayer[0].basket.price && dataLayer[0].basket.price.discount) {
      s.events = s.apl(s.events, "event10=" + Math.round(dataLayer[0].basket.price.discount).toString(), ",", 1);
    } else if (window.dataLayer && dataLayer[0] && dataLayer[0].product && dataLayer[0].product.discount) {
      s.events = s.apl(s.events, "event10=" + Math.round(dataLayer[0].product.discount).toString(), ",", 1);
    } else if (window.jsonData && jsonData.packageViewData && jsonData.packageViewData.onlineDiscount) {
      s.events = s.apl(s.events, "event10=" + Math.round(jsonData.packageViewData.onlineDiscount).toString(), ",", 1);
    }


    // This is for event 38 (Revenue)

    if (window.tui && tui.analytics && tui.analytics.page && tui.analytics.page.Sum) {
      if (window.tui.analytics.page.bookingLevelCreditNoteDiscount && (parseFloat(tui.analytics.page.bookingLevelCreditNoteDiscount) > 0)) {
        s.events = s.apl(s.events, "event38=" + (parseFloat(tui.analytics.page.Sum) + parseFloat(tui.analytics.page.bookingLevelCreditNoteDiscount)), ",", 1);
      } else {
        s.events = s.apl(s.events, "event38=" + tui.analytics.page.Sum, ",", 1);
      }
    } else if (window.dataLayer && dataLayer[0] && dataLayer[0].transactions && dataLayer[0].transactions.total && dataLayer[0].transactions.total.totalPrice) {
      if (window.dataLayer[0].transactions.total.bookingLevelCreditNoteDiscount && dataLayer[0].transactions.total.bookingLevelCreditNoteDiscount > 0) {
        s.events = s.apl(s.events, "event38=" + (dataLayer[0].transactions.total.totalPrice + dataLayer[0].transactions.total.bookingLevelCreditNoteDiscount), ",", 1);
      } else {
        s.events = s.apl(s.events, "event38=" + dataLayer[0].transactions.total.totalPrice, ",", 1);
      }
    } else if (window.dataLayer && dataLayer[0] && dataLayer[0].basket && dataLayer[0].basket.price && dataLayer[0].basket.price.totalPrice) {
      if (window.dataLayer[0].basket.price.bookingLevelCreditNoteDiscount && dataLayer[0].basket.price.bookingLevelCreditNoteDiscount > 0) {
        s.events = s.apl(s.events, "event38=" + (dataLayer[0].basket.price.totalPrice + dataLayer[0].basket.price.bookingLevelCreditNoteDiscount), ",", 1);
      } else {
        s.events = s.apl(s.events, "event38=" + dataLayer[0].basket.price.totalPrice, ",", 1);
      }
    } else if (window.dataLayer && dataLayer[0] && dataLayer[0].product && dataLayer[0].product.currentPrice) {
      s.events = s.apl(s.events, "event38=" + dataLayer[0].product.currentPrice, ",", 1);
    }

    // For Privacy
    try {
      var privacyExperience = Bootstrapper.Cookies.get('TUI_ENSIGHTEN_PRIVACY_Experience');
      if (privacyExperience !== 'C') {
        if (window.gateway && window.gateway.isInitialized && String(Bootstrapper.gateway.getCookie('BANNER_VIEWED')) !== '1') {
          s.events = s.apl(s.events, 'event107', ',', 1);
        }
      }
    } catch (err) {
      console.log('Ensighten:event107 not set');
    }

    return s.events;
  }]
]]);